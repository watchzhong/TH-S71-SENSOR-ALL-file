> **Modbus-RTU 多传感器监控工具说明**

- 界面



#### 1、使用步骤
1）连接modbus温湿度模块到电脑  
2）在工具中选择对应串口  
3）打开串口  
4）点击“单次读取”获取当前温湿度一次  
5）点击“连续读取”一直获取温湿度  
6）在设备参数中可以设置设备的地址、波特率、温湿度读取的频率  
7）点击“恢复默认”将恢复到默认设置：地址-01 波特率-9600读取频率 -1000ms

#### 2、modbus协议说明
1）设置参数  
功能码：16-写多个寄存器  
起始地址：01  
参数：设备地址(16bit)，波特率(32bit)，数据读取频率(16bit)  

|  | 设备地址 | 波特率高位 | 波特率低位 | 数据读取频率 |
| :----: | :----: | :----: |
|十六进制 | 0001 | 0000 | 2580 | 03e8 |
| 十进制 | 1   | |  9600 | 1000

以上数据将设置模块的设备地址为1，波特率设置为9600，读取数据的频率为1000ms。  

2）读取全部传感器数据  
功能码：04-读寄存器  
起始地址：01  
数据格式：SHT30温度(16bit) + SHT30湿度(16bit)  +SGP30-eCO2(16bit)+SGP30-TVOC(16bit)+MHZ19b-CO2(16bit)+PM1.0(16bit)+PM2.5(16bit)+PM10(16bit)

注：

- SHT30温度和湿度数据为真实数据的100倍；
- SGP30 CO2和TVOC数据为真实数据的10倍；
- MHZ19B CO2数据为真实数据的0.1倍；
- PM1.0 PM2.5 PM10数据与真实数据一致；

例如，获取Modbus数据如下：

| | 温度 | 湿度 |
| :----: | :----: | :----: |
| 十六进制 | 0acd | 18ac |
| 十进制 | 2765 | 6316 |

则实际温度：27.65℃， 湿度：63.16%  

3）单独读取某个传感器数据

单独读取时候只需改变起始地址和读取的数据个数，顺序和全部读取时候一致。

- SHT30：功能码04，起始地址01，数据个数2
- SGP30：功能码04，起始地址03，数据个数2
- MHZ19-CO2：功能码04，起始地址05，数据个数1
- PM1.0\PM2.5\PM10：功能码04，起始地址06，数据个数3